---
//@ts-ignore
import { createHash } from "crypto";

interface Props {
  baseName: string;
  originalTitle: string;
}

const { baseName, originalTitle } = Astro.props;
---

<div
  id="disqus_thread"
  data-url={`https://nona-takahara.github.io/blog/${baseName.replace(
    ".md",
    ".html"
  )}`}
  data-identifier={createHash("md5").update(originalTitle).digest("hex")}
>
</div>
<script is:inline>
  var disqus_config = function () {
    const dataset = document.getElementById("disqus_thread").dataset;
    this.page.url = dataset.url;
    this.page.identifier = dataset.identifier;
  };

  (function () {
    // DON'T EDIT BELOW THIS LINE
    var d = document,
      s = d.createElement("script");
    s.src = "https://kogen-yasai-nt.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript
  >Please enable JavaScript to view the <a
    href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a
  ></noscript
>
