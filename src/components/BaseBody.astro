---
import "@styles/common.scss";

interface Props {
  highlight?: boolean;
}

const { highlight = false } = Astro.props;
---

<body>
  <a href="#content" style="visibility: hidden; position: fixed;">本文へ移動</a>
  <header>
    <div class="container">
      <h1 class="brand">
        <a href="/">こーげんやさい</a>
      </h1>
    </div>
  </header>
  <slot />
  <footer>
    <div class="container">
      <p>Nona Takahara</p>
    </div>
  </footer>
  {highlight && <script type="module" src="/highlighter.js" defer />}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll("img").forEach((img) => {
        if (img.title) {
          const title = document.createElement("span");
          title.innerText = img.title;
          title.classList.add("fig-caption");

          img.after(title);
        }
      });
    });
  </script>
</body>
